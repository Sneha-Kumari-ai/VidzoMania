{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/hooks/useWebRTC.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState, useCallback } from 'react';\r\nimport io, { Socket } from 'socket.io-client';\r\n\r\nconst STUN_SERVERS = {\r\n    iceServers: [\r\n        {\r\n            urls: [\r\n                \"stun:stun.l.google.com:19302\",\r\n                \"stun:global.stun.twilio.com:3478\",\r\n            ],\r\n        },\r\n    ],\r\n};\r\n\r\nexport type WebRTCStream = {\r\n    id: string;\r\n    stream: MediaStream;\r\n    isLocal?: boolean;\r\n};\r\n\r\nexport function useWebRTC(roomId: string) {\r\n    const [socket, setSocket] = useState<Socket | null>(null);\r\n    const [localStream, setLocalStream] = useState<MediaStream | null>(null);\r\n    const [peers, setPeers] = useState<WebRTCStream[]>([]);\r\n\r\n    const peersRef = useRef<{ [key: string]: RTCPeerConnection }>({});\r\n    const localStreamRef = useRef<MediaStream | null>(null);\r\n    const socketRef = useRef<Socket | null>(null);\r\n\r\n    // Helper to create a peer connection\r\n    const createPeer = useCallback((userId: string, initiator: boolean, stream: MediaStream, socket: Socket) => {\r\n        const pc = new RTCPeerConnection(STUN_SERVERS);\r\n        peersRef.current[userId] = pc;\r\n\r\n        // Add local tracks\r\n        stream.getTracks().forEach(track => {\r\n            pc.addTrack(track, stream);\r\n        });\r\n\r\n        // Handle ICE candidates\r\n        pc.onicecandidate = (event) => {\r\n            if (event.candidate) {\r\n                socket.emit('ice-candidate', {\r\n                    roomId,\r\n                    candidate: event.candidate,\r\n                    to: userId\r\n                });\r\n            }\r\n        };\r\n\r\n        // Handle remote stream\r\n        pc.ontrack = (event) => {\r\n            console.log(\"Received remote track from\", userId, \"Track kind:\", event.track.kind);\r\n            setPeers(prev => {\r\n                const existing = prev.find(p => p.id === userId);\r\n                if (existing) {\r\n                    console.log(\"Updating existing peer stream for\", userId);\r\n                    // Update the existing peer with new stream\r\n                    return prev.map(p => p.id === userId ? { ...p, stream: event.streams[0] } : p);\r\n                }\r\n                console.log(\"Adding new peer to state:\", userId);\r\n                return [...prev, { id: userId, stream: event.streams[0], isLocal: false }];\r\n            });\r\n        };\r\n\r\n        // Create Offer\r\n        if (initiator) {\r\n            console.log('Creating OFFER for peer:', userId);\r\n            pc.createOffer().then(offer => {\r\n                console.log('Offer created, setting local description');\r\n                return pc.setLocalDescription(offer);\r\n            }).then(() => {\r\n                console.log('Sending OFFER to:', userId);\r\n                socket.emit('offer', {\r\n                    roomId,\r\n                    sdp: pc.localDescription,\r\n                    to: userId,\r\n                    from: socket.id\r\n                });\r\n            }).catch(err => {\r\n                console.error('Error creating/sending offer:', err);\r\n            });\r\n        }\r\n\r\n        return pc;\r\n    }, [roomId]);\r\n\r\n    const [error, setError] = useState<Error | null>(null);\r\n    const [isConnected, setIsConnected] = useState(false);\r\n\r\n    // ... refs ...\r\n\r\n    // Same createPeer ...\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const socketUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n        console.log('Connecting to socket at:', socketUrl);\r\n\r\n        const s = io(socketUrl, {\r\n            path: '/socket.io',\r\n            transports: ['websocket', 'polling']\r\n        });\r\n        setSocket(s);\r\n        socketRef.current = s;\r\n\r\n        // Socket Connection Handlers\r\n        const onConnect = () => {\r\n            console.log('Socket connected with ID:', s.id);\r\n            console.log('Joining room:', roomId);\r\n            setIsConnected(true);\r\n            s.emit('join-room', roomId, s.id);\r\n        };\r\n\r\n        const onDisconnect = () => {\r\n            console.log('Socket disconnected');\r\n            setIsConnected(false);\r\n        };\r\n\r\n        if (s.connected) {\r\n            onConnect();\r\n        } else {\r\n            s.on('connect', onConnect);\r\n        }\r\n\r\n        s.on('disconnect', onDisconnect);\r\n\r\n        // Get Local Media\r\n        // Try with simple constraints first\r\n        navigator.mediaDevices.getUserMedia({\r\n            audio: true,\r\n            video: true // Removed 1280x720 constraint to rule out hardware incompatibility\r\n        }).then(stream => {\r\n            if (!isMounted) {\r\n                stream.getTracks().forEach(track => track.stop());\r\n                return;\r\n            }\r\n            setLocalStream(stream);\r\n            localStreamRef.current = stream;\r\n            // ... (rest of logic same) ...\r\n\r\n            // REMOVED: setPeers(prev => [...prev, { id: 'local', stream: stream, isLocal: true }]);\r\n            // We shouldn't add local stream to 'peers' state to avoid duplicates and sync issues.\r\n            // We will combine it in the hook return.\r\n\r\n            // Handled by onConnect above\r\n\r\n            // Socket Events\r\n            s.on('user-connected', (userId: string) => {\r\n                console.log('User connected event received for:', userId);\r\n                console.log('I am initiator, creating peer...');\r\n                createPeer(userId, true, stream, s);\r\n            });\r\n\r\n            s.on('offer', async (data) => {\r\n                console.log('Received OFFER from:', data.from);\r\n                const pc = createPeer(data.from, false, stream, s);\r\n                await pc.setRemoteDescription(new RTCSessionDescription(data.sdp));\r\n                console.log('Remote description set (Offer)');\r\n\r\n                const answer = await pc.createAnswer();\r\n                await pc.setLocalDescription(answer);\r\n                console.log('Sending ANSWER to:', data.from);\r\n                s.emit('answer', { roomId, sdp: answer, to: data.from, from: s.id });\r\n            });\r\n\r\n            s.on('answer', async (data) => {\r\n                console.log('Received ANSWER from:', data.from);\r\n                const pc = peersRef.current[data.from];\r\n                if (pc) {\r\n                    await pc.setRemoteDescription(new RTCSessionDescription(data.sdp));\r\n                    console.log('Remote description set (Answer)');\r\n                } else {\r\n                    console.warn('Received Answer for unknown peer:', data.from);\r\n                }\r\n            });\r\n\r\n            s.on('ice-candidate', async (data) => {\r\n                const pc = peersRef.current[data.from];\r\n                if (pc && data.candidate) await pc.addIceCandidate(new RTCIceCandidate(data.candidate));\r\n            });\r\n\r\n            s.on('user-disconnected', (userId: string) => {\r\n                if (peersRef.current[userId]) {\r\n                    peersRef.current[userId].close();\r\n                    delete peersRef.current[userId];\r\n                }\r\n                setPeers(prev => prev.filter(p => p.id !== userId));\r\n            });\r\n\r\n        }).catch(err => {\r\n            console.error(\"Failed to get local media\", err);\r\n            setError(err);\r\n        });\r\n\r\n        return () => {\r\n            s.disconnect();\r\n            localStreamRef.current?.getTracks().forEach(t => t.stop());\r\n            Object.values(peersRef.current).forEach(pc => pc.close());\r\n        };\r\n    }, [roomId, createPeer]);\r\n\r\n    const [isAudioEnabled, setIsAudioEnabled] = useState(true);\r\n    const [isVideoEnabled, setIsVideoEnabled] = useState(true);\r\n\r\n    const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n    const originalVideoTrackRef = useRef<MediaStreamTrack | null>(null);\r\n\r\n    const toggleAudio = useCallback(() => {\r\n        if (localStreamRef.current) {\r\n            const audioTrack = localStreamRef.current.getAudioTracks()[0];\r\n            if (audioTrack) {\r\n                audioTrack.enabled = !audioTrack.enabled;\r\n                setIsAudioEnabled(audioTrack.enabled);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const toggleVideo = useCallback(() => {\r\n        if (localStreamRef.current) {\r\n            const videoTrack = localStreamRef.current.getVideoTracks()[0];\r\n            if (videoTrack) {\r\n                videoTrack.enabled = !videoTrack.enabled;\r\n                setIsVideoEnabled(videoTrack.enabled);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const stopScreenShare = useCallback(async () => {\r\n        if (localStreamRef.current) {\r\n            // 1. Stop the screen share track to ensure the browser UI updates\r\n            const screenTrack = localStreamRef.current.getVideoTracks()[0];\r\n            if (screenTrack) {\r\n                screenTrack.stop();\r\n                localStreamRef.current.removeTrack(screenTrack);\r\n            }\r\n\r\n            try {\r\n                // 2. Re-acquire the camera stream\r\n                const newStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n                const newVideoTrack = newStream.getVideoTracks()[0];\r\n\r\n                // 3. Add the new camera track to the local stream\r\n                localStreamRef.current.addTrack(newVideoTrack);\r\n\r\n                // 4. Update all peer connections to send the new track\r\n                Object.values(peersRef.current).forEach(pc => {\r\n                    const sender = pc.getSenders().find(s => s.track?.kind === 'video');\r\n                    if (sender) {\r\n                        sender.replaceTrack(newVideoTrack);\r\n                    }\r\n                });\r\n\r\n                // 5. Update state\r\n                setIsScreenSharing(false);\r\n                originalVideoTrackRef.current = null;\r\n\r\n                // 6. Force UI update by creating a new MediaStream reference\r\n                // This ensures the video element srcObject gets refreshed\r\n                setLocalStream(new MediaStream(localStreamRef.current.getTracks()));\r\n\r\n            } catch (e) {\r\n                console.error(\"Failed to restore camera\", e);\r\n                // Fallback: Just update state so UI isn't stuck in \"sharing\" mode\r\n                setIsScreenSharing(false);\r\n            }\r\n        }\r\n    }, [roomId]);\r\n\r\n\r\n    const shareScreen = useCallback(async () => {\r\n        try {\r\n            const screenStream = await navigator.mediaDevices.getDisplayMedia({\r\n                video: true,\r\n                audio: false\r\n            });\r\n            const screenTrack = screenStream.getVideoTracks()[0];\r\n\r\n            if (localStreamRef.current) {\r\n                const currentVideoTrack = localStreamRef.current.getVideoTracks()[0];\r\n                if (currentVideoTrack) {\r\n                    originalVideoTrackRef.current = currentVideoTrack;\r\n                    currentVideoTrack.stop();\r\n                    localStreamRef.current.removeTrack(currentVideoTrack);\r\n                    localStreamRef.current.addTrack(screenTrack);\r\n\r\n                    Object.values(peersRef.current).forEach(pc => {\r\n                        const sender = pc.getSenders().find(s => s.track?.kind === 'video');\r\n                        if (sender) {\r\n                            sender.replaceTrack(screenTrack);\r\n                        }\r\n                    });\r\n\r\n                    screenTrack.onended = () => {\r\n                        stopScreenShare();\r\n                    };\r\n\r\n                    setIsScreenSharing(true);\r\n                    setLocalStream(new MediaStream(localStreamRef.current.getTracks()));\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Failed to share screen\", err);\r\n        }\r\n    }, [stopScreenShare]);\r\n\r\n    // Combine local stream with remote peers for the UI\r\n    const allPeers = localStream\r\n        ? [{ id: 'local', stream: localStream, isLocal: true }, ...peers]\r\n        : peers;\r\n\r\n    return { localStream, peers: allPeers, socket, error, toggleAudio, toggleVideo, isAudioEnabled, isVideoEnabled, shareScreen, stopScreenShare, isScreenSharing, isConnected };\r\n}\r\n"],"names":["c","_c","useEffect","useRef","useState","useCallback","io","Socket","STUN_SERVERS","iceServers","urls","WebRTCStream","id","stream","MediaStream","isLocal","useWebRTC","roomId","$","$i","Symbol","for","socket","setSocket","localStream","setLocalStream","t0","peers","setPeers","t1","peersRef","localStreamRef","socketRef","t2","useWebRTC[createPeer]","userId","initiator","socket_0","pc","RTCPeerConnection","current","getTracks","forEach","track","addTrack","onicecandidate","event","candidate","emit","to","ontrack","event_0","console","log","kind","prev","existing","find","p","map","p_0","streams","createOffer","then","offer","setLocalDescription","useWebRTC[createPeer > (anonymous)()]","sdp","localDescription","from","catch","_useWebRTCCreatePeerAnonymous","createPeer","error","setError","isConnected","setIsConnected","t3","t4","useWebRTC[useEffect()]","socketUrl","process","env","NEXT_PUBLIC_API_URL","s","path","transports","onConnect","useWebRTC[useEffect() > onConnect]","onDisconnect","useWebRTC[useEffect() > onDisconnect]","connected","on","navigator","mediaDevices","getUserMedia","audio","video","stream_0","userId_0","data","pc_0","setRemoteDescription","RTCSessionDescription","answer","createAnswer","data_0","pc_1","warn","data_1","pc_2","addIceCandidate","RTCIceCandidate","userId_1","close","prev_0","filter","p_1","err_0","err","disconnect","_useWebRTCUseEffectAnonymousAnonymous","Object","values","_useWebRTCUseEffectAnonymousAnonymous2","isAudioEnabled","setIsAudioEnabled","isVideoEnabled","setIsVideoEnabled","isScreenSharing","setIsScreenSharing","originalVideoTrackRef","t5","useWebRTC[toggleAudio]","audioTrack","getAudioTracks","enabled","toggleAudio","t6","useWebRTC[toggleVideo]","videoTrack","getVideoTracks","toggleVideo","t7","useWebRTC[stopScreenShare]","screenTrack","stop","removeTrack","newStream","newVideoTrack","pc_4","sender","getSenders","_useWebRTCStopScreenShareAnonymousAnonymous","replaceTrack","t8","e","stopScreenShare","useWebRTC[shareScreen]","screenStream","getDisplayMedia","screenTrack_0","currentVideoTrack","pc_5","sender_0","_useWebRTCShareScreenAnonymousAnonymous","onended","t9","shareScreen","allPeers","t10","s_1","s_0","pc_3","t"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/components/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion, HTMLMotionProps } from 'framer-motion';\r\nimport { clsx, type ClassValue } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nfunction cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function Card({ className, children, ...props }: HTMLMotionProps<\"div\">) {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            className={cn(\r\n                'bg-white/80 dark:bg-zinc-900/80 backdrop-blur-xl border border-white/20 dark:border-white/5 rounded-2xl shadow-xl p-6',\r\n                className\r\n            )}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":["c","_c","motion","HTMLMotionProps","clsx","ClassValue","twMerge","cn","inputs","Card","t0","$","$i","Symbol","for","children","className","props","t1","t2","t3","opacity","y","once","t4","t5"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,MAAM,EAAEC,eAAe,QAAQ,eAAe;AACvD,SAASC,IAAI,EAAE,KAAKC,UAAU,QAAQ,MAAM;AAC5C,SAASC,OAAO,QAAQ,gBAAgB;AAJxC,YAAY;;;;;;AAMZ,SAASC,EAAEA,CAAC,GAAGC,MAAM,AAAc,EAAZH,AAAc,UAAJ;IAC7B,WAAOC,yKAAO,MAACF,gJAAI,EAACI,MAAM,CAAC,CAAC;AAChC;AAEO,cAAAE,EAAA;IAAA,MAAAC,CAAA,OAAAV,gLAAA,EAAA;IAAA,IAAAU,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,QAAA;IAAA,IAAAC,SAAA;IAAA,IAAAC,KAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAD,EAAA,EAAA;QAAc,CAAA,EAAAM,SAAA,EAAAD,QAAA,EAAA,GAAAE,OAAA,GAAAP,EAAyD;QAAAC,CAAA,CAAA,EAAA,GAAAD,EAAA;QAAAC,CAAA,CAAA,EAAA,GAAAI,QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,SAAA;QAAAL,CAAA,CAAA,EAAA,GAAAM,KAAA;IAAA,OAAA;QAAAF,QAAA,GAAAJ,CAAA,CAAA,EAAA;QAAAK,SAAA,GAAAL,CAAA,CAAA,EAAA;QAAAM,KAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGzDI,EAAA,GAAA;YAAAG,OAAA,EAAW,CAAC;YAAAC,CAAA,EAAK;QAAG,CAAC;QACjBH,EAAA,GAAA;YAAAE,OAAA,EAAW,CAAC;YAAAC,CAAA,EAAK;QAAE,CAAC;QACvBF,EAAA,GAAA;YAAAG,IAAA,EAAQ;QAAK,CAAC;QAAAZ,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAF,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;QAAAS,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAK,SAAA,EAAA;QACbQ,EAAA,GAAAjB,EAAE,CACT,uHAAuH,EACvHS,SACJ,CAAC;QAAAL,CAAA,CAAA,EAAA,GAAAK,SAAA;QAAAL,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAc,EAAA;IAAA,IAAAd,CAAA,CAAA,GAAA,KAAAI,QAAA,IAAAJ,CAAA,CAAA,GAAA,KAAAM,KAAA,IAAAN,CAAA,CAAA,GAAA,KAAAa,EAAA,EAAA;QAPLC,EAAA,iBAAA,6LAAA,uMAAA,CAAA,GAAA;YACa,OAAqB,CAArB,CAAAP,EAAoB,CAAC;YACjB,WAAoB,CAApB,CAAAC,EAAmB,CAAC;YACvB,QAAc,CAAd,CAAAC,EAAa,CAAC;YACb,SAGV,CAHU,CAAAI,EAGX,CAAC;YAAA,GACGP,KAAK,EAERF;sBAAAA,QAAO,CACZ,aAAa;;;;;;QAAAJ,CAAA,CAAA,GAAA,GAAAI,QAAA;QAAAJ,CAAA,CAAA,GAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,GAAA,GAAAa,EAAA;QAAAb,CAAA,CAAA,GAAA,GAAAc,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAd,CAAA,CAAA,GAAA;IAAA;IAAA,OAXbc,EAWa;AAAA;KAbdhB","ignoreList":[]}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/components/studio/VideoGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { User } from 'lucide-react';\r\nimport { Card } from '@/components/ui/Card';\r\nimport type { WebRTCStream } from '@/hooks/useWebRTC';\r\n\r\ninterface VideoGridProps {\r\n    peers: WebRTCStream[];\r\n}\r\n\r\nexport function VideoGrid({ peers }: VideoGridProps) {\r\n    return (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full h-full p-6\">\r\n            {peers.map((peer) => (\r\n                <VideoPlayer key={peer.id} stream={peer.stream} isLocal={peer.isLocal} id={peer.id} />\r\n            ))}\r\n            {peers.length === 0 && (\r\n                <div className=\"col-span-full flex items-center justify-center h-64 text-gray-400\">\r\n                    <p>Connecting to studio...</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction VideoPlayer({ stream, isLocal, id }: { stream: MediaStream; isLocal?: boolean; id: string }) {\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (videoRef.current && stream) {\r\n            videoRef.current.srcObject = stream;\r\n        }\r\n    }, [stream]);\r\n\r\n    return (\r\n        <Card className=\"relative overflow-hidden aspect-video p-0 bg-black border-none group\">\r\n            <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                playsInline\r\n                muted={isLocal} // Mute local to prevent feedback\r\n                className=\"w-full h-full object-cover rounded-xl\"\r\n            />\r\n            <div className=\"absolute bottom-4 left-4 bg-black/50 backdrop-blur-md px-3 py-1 rounded-full text-white text-sm font-medium flex items-center gap-2\">\r\n                <User className=\"w-4 h-4\" />\r\n                {isLocal ? 'You' : `Peer ${id.substr(0, 4)}`}\r\n            </div>\r\n            {/* Audio Indicator (Simple visual) */}\r\n            <div className=\"absolute top-4 right-4 bg-green-500/80 p-1.5 rounded-full\" />\r\n        </Card>\r\n    );\r\n}\r\n"],"names":["c","_c","useEffect","useRef","motion","User","Card","WebRTCStream","VideoGridProps","peers","VideoGrid","t0","$","$i","Symbol","for","t1","map","_VideoGridPeersMap","t2","length","t3","peer","id","stream","isLocal","VideoPlayer","videoRef","VideoPlayer[useEffect()]","current","srcObject","t4","t5","substr","t6","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/hooks/useFFmpeg.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { FFmpeg } from '@ffmpeg/ffmpeg';\r\nimport { toBlobURL } from '@ffmpeg/util';\r\n\r\nexport function useFFmpeg() {\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const ffmpegRef = useRef(new FFmpeg());\r\n    const messageRef = useRef<HTMLParagraphElement | null>(null);\r\n\r\n    const load = async () => {\r\n        setIsLoading(true);\r\n        const baseURL = 'https://unpkg.com/@ffmpeg/core@0.12.6/dist/umd';\r\n        const ffmpeg = ffmpegRef.current;\r\n\r\n        ffmpeg.on('log', ({ message }) => {\r\n            console.log(message);\r\n            if (messageRef.current) messageRef.current.innerHTML = message;\r\n        });\r\n\r\n        try {\r\n            await ffmpeg.load({\r\n                coreURL: await toBlobURL(`${baseURL}/ffmpeg-core.js`, 'text/javascript'),\r\n                wasmURL: await toBlobURL(`${baseURL}/ffmpeg-core.wasm`, 'application/wasm'),\r\n            });\r\n            setLoaded(true);\r\n        } catch (error) {\r\n            console.error(\"FFmpeg load failed:\", error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        load();\r\n    }, []);\r\n\r\n    return { ffmpeg: ffmpegRef.current, loaded, isLoading, messageRef };\r\n}\r\n"],"names":["useState","useRef","useEffect","FFmpeg","toBlobURL","useFFmpeg","loaded","setLoaded","isLoading","setIsLoading","ffmpegRef","messageRef","HTMLParagraphElement","load","baseURL","ffmpeg","current","on","message","console","log","innerHTML","coreURL","wasmURL","error"],"mappings":";;;;AAEA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACnD,SAASC,MAAM,QAAQ,gBAAgB;;AACvC,SAASC,SAAS,QAAQ,cAAc;;AAJxC,YAAY;;;;AAML;;IACH,MAAM,CAACE,MAAM,EAAEC,SAAS,CAAC,OAAGP,yKAAQ,EAAC,KAAK,CAAC;IAC3C,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,6KAAQ,EAAC,KAAK,CAAC;IACjD,MAAMU,SAAS,OAAGT,uKAAM,EAAC,IAAIE,yKAAM,CAAC,CAAC,CAAC;IACtC,MAAMQ,UAAU,OAAGV,uKAAM,CAACW,CAA6B,IAAI,CAAC,cAAd,GAAG,IAAI,CAAC;IAEtD,MAAMC,IAAI,GAAG,MAAAA,CAAA,KAAY;QACrBJ,YAAY,CAAC,IAAI,CAAC;QAClB,MAAMK,OAAO,GAAG,gDAAgD;QAChE,MAAMC,MAAM,GAAGL,SAAS,CAACM,OAAO;QAEhCD,MAAM,CAACE,EAAE,CAAC,KAAK,EAAE,CAAC,EAAEC,OAAAA,EAAS,KAAK;YAC9BC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;YACpB,IAAIP,UAAU,CAACK,OAAO,EAAEL,UAAU,CAACK,OAAO,CAACK,SAAS,GAAGH,OAAO;QAClE,CAAC,CAAC;QAEF,IAAI;YACA,MAAMH,MAAM,CAACF,IAAI,CAAC;gBACdS,OAAO,EAAE,UAAMlB,wKAAS,EAAC,GAAGU,OAAO,CAAA,eAAA,CAAiB,EAAE,iBAAiB,CAAC;gBACxES,OAAO,EAAE,UAAMnB,wKAAS,EAAC,GAAGU,OAAO,CAAA,iBAAA,CAAmB,EAAE,kBAAkB;YAC9E,CAAC,CAAC;YACFP,SAAS,CAAC,IAAI,CAAC;QACnB,CAAC,CAAC,OAAOiB,KAAK,EAAE;YACZL,OAAO,CAACK,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC/C,CAAC,QAAS;YACNf,YAAY,CAAC,KAAK,CAAC;QACvB;IACJ,CAAC;QAEDP,0KAAS;+BAAC,MAAM;YACZW,IAAI,CAAC,CAAC;QACV,CAAC;8BAAE,EAAE,CAAC;IAEN,OAAO;QAAEE,MAAM,EAAEL,SAAS,CAACM,OAAO;QAAEV,MAAM;QAAEE,SAAS;QAAEG;IAAW,CAAC;AACvE;GAlCgBN,SAASA,CAAA,EAAG","ignoreList":[]}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/components/ui/Button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion, HTMLMotionProps } from 'framer-motion';\r\nimport { Loader2 } from 'lucide-react';\r\nimport { clsx, type ClassValue } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nfunction cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n\r\nimport React from 'react';\r\n\r\ninterface ButtonProps extends HTMLMotionProps<\"button\"> {\r\n    variant?: 'primary' | 'secondary' | 'ghost' | 'danger';\r\n    size?: 'sm' | 'md' | 'lg';\r\n    isLoading?: boolean;\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport function Button({\r\n    className,\r\n    variant = 'primary',\r\n    size = 'md',\r\n    isLoading,\r\n    children,\r\n    disabled,\r\n    ...props\r\n}: ButtonProps) {\r\n    const variants = {\r\n        primary: 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-500/25',\r\n        secondary: 'bg-white dark:bg-zinc-800 text-gray-900 dark:text-white border border-gray-200 dark:border-zinc-700 hover:bg-gray-50 dark:hover:bg-zinc-700',\r\n        ghost: 'bg-transparent hover:bg-black/5 dark:hover:bg-white/5 text-gray-700 dark:text-gray-300',\r\n        danger: 'bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/25',\r\n    };\r\n\r\n    const sizes = {\r\n        sm: 'px-3 py-1.5 text-xs',\r\n        md: 'px-5 py-2.5 text-sm',\r\n        lg: 'px-8 py-3.5 text-base',\r\n    };\r\n\r\n    return (\r\n        <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            className={cn(\r\n                'inline-flex items-center justify-center rounded-xl font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none',\r\n                variants[variant],\r\n                sizes[size],\r\n                className\r\n            )}\r\n            disabled={disabled || isLoading}\r\n            {...props}\r\n        >\r\n            {isLoading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\r\n            {children}\r\n        </motion.button>\r\n    );\r\n}\r\n"],"names":["c","_c","motion","HTMLMotionProps","Loader2","clsx","ClassValue","twMerge","cn","inputs","React","ButtonProps","variant","size","isLoading","children","ReactNode","Button","t0","$","$i","Symbol","for","className","disabled","props","t1","t2","undefined","T0","t3","t4","t5","variants","primary","secondary","ghost","danger","sizes","sm","md","lg","button","scale","t6","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/app/actions/gemini.ts"],"sourcesContent":["'use server';\r\n\r\nimport { GoogleGenerativeAI } from '@google/generative-ai';\r\nimport { GoogleAIFileManager } from '@google/generative-ai/server';\r\nimport { writeFile, unlink } from 'fs/promises';\r\nimport { join } from 'path';\r\nimport { tmpdir } from 'os';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// Helper to save buffer to temp file\r\nasync function saveToTemp(buffer: Buffer): Promise<string> {\r\n    const filename = `upload-${uuidv4()}.webm`;\r\n    const filepath = join(tmpdir(), filename);\r\n    await writeFile(filepath, buffer);\r\n    return filepath;\r\n}\r\n\r\nexport async function processVideoWithGemini(formData: FormData, apiKey: string, modelName: string, prompt: string) {\r\n    if (!apiKey) throw new Error(\"API Key is required\");\r\n\r\n    const file = formData.get('file') as File;\r\n    if (!file) throw new Error(\"No file uploaded\");\r\n\r\n    try {\r\n        const fileManager = new GoogleAIFileManager(apiKey);\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n\r\n        // 1. Save to temp disk (FileManager needs local path)\r\n        const bytes = await file.arrayBuffer();\r\n        const buffer = Buffer.from(bytes);\r\n        const tempPath = await saveToTemp(buffer);\r\n\r\n        // 2. Upload to Google AI\r\n        const uploadResult = await fileManager.uploadFile(tempPath, {\r\n            mimeType: file.type || 'video/webm',\r\n            displayName: \"Studio Recording\",\r\n        });\r\n\r\n        // 3. Wait for processing (Video takes time)\r\n        let fileState = await fileManager.getFile(uploadResult.file.name);\r\n        while (fileState.state === 'PROCESSING') {\r\n            await new Promise(resolve => setTimeout(resolve, 2000));\r\n            fileState = await fileManager.getFile(uploadResult.file.name);\r\n        }\r\n\r\n        if (fileState.state === 'FAILED') {\r\n            throw new Error(\"Video processing failed.\");\r\n        }\r\n\r\n        // 4. Generate Content\r\n        const model = genAI.getGenerativeModel({ model: modelName || \"gemini-1.5-flash-latest\" });\r\n        const result = await model.generateContent([\r\n            prompt,\r\n            {\r\n                fileData: {\r\n                    fileUri: uploadResult.file.uri,\r\n                    mimeType: uploadResult.file.mimeType,\r\n                },\r\n            },\r\n        ]);\r\n\r\n        // Cleanup\r\n        await unlink(tempPath).catch(e => console.error(\"Temp cleanup failed\", e));\r\n        // await fileManager.deleteFile(uploadResult.file.name); // Optional: keep for cache or delete\r\n\r\n        return result.response.text();\r\n\r\n    } catch (error: any) {\r\n        console.error(\"Gemini Error:\", error);\r\n        throw new Error(error.message || \"AI processing failed\");\r\n    }\r\n}\r\n\r\nexport async function listGeminiModels(apiKey: string) {\r\n    if (!apiKey) return [];\r\n\r\n    try {\r\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`);\r\n        if (!response.ok) {\r\n            console.error(\"Failed to list models\", await response.text());\r\n            return [];\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (!data.models) return [];\r\n\r\n        // Filter for models that support content generation and are stable/latest\r\n        return data.models\r\n            .filter((m: any) => m.supportedGenerationMethods?.includes(\"generateContent\"))\r\n            .map((m: any) => ({\r\n                name: m.name.replace('models/', ''),\r\n                displayName: m.displayName\r\n            }));\r\n    } catch (error) {\r\n        console.error(\"List Models Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAiBsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,0DAAA"}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/app/actions/gemini.ts"],"sourcesContent":["'use server';\r\n\r\nimport { GoogleGenerativeAI } from '@google/generative-ai';\r\nimport { GoogleAIFileManager } from '@google/generative-ai/server';\r\nimport { writeFile, unlink } from 'fs/promises';\r\nimport { join } from 'path';\r\nimport { tmpdir } from 'os';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// Helper to save buffer to temp file\r\nasync function saveToTemp(buffer: Buffer): Promise<string> {\r\n    const filename = `upload-${uuidv4()}.webm`;\r\n    const filepath = join(tmpdir(), filename);\r\n    await writeFile(filepath, buffer);\r\n    return filepath;\r\n}\r\n\r\nexport async function processVideoWithGemini(formData: FormData, apiKey: string, modelName: string, prompt: string) {\r\n    if (!apiKey) throw new Error(\"API Key is required\");\r\n\r\n    const file = formData.get('file') as File;\r\n    if (!file) throw new Error(\"No file uploaded\");\r\n\r\n    try {\r\n        const fileManager = new GoogleAIFileManager(apiKey);\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n\r\n        // 1. Save to temp disk (FileManager needs local path)\r\n        const bytes = await file.arrayBuffer();\r\n        const buffer = Buffer.from(bytes);\r\n        const tempPath = await saveToTemp(buffer);\r\n\r\n        // 2. Upload to Google AI\r\n        const uploadResult = await fileManager.uploadFile(tempPath, {\r\n            mimeType: file.type || 'video/webm',\r\n            displayName: \"Studio Recording\",\r\n        });\r\n\r\n        // 3. Wait for processing (Video takes time)\r\n        let fileState = await fileManager.getFile(uploadResult.file.name);\r\n        while (fileState.state === 'PROCESSING') {\r\n            await new Promise(resolve => setTimeout(resolve, 2000));\r\n            fileState = await fileManager.getFile(uploadResult.file.name);\r\n        }\r\n\r\n        if (fileState.state === 'FAILED') {\r\n            throw new Error(\"Video processing failed.\");\r\n        }\r\n\r\n        // 4. Generate Content\r\n        const model = genAI.getGenerativeModel({ model: modelName || \"gemini-1.5-flash-latest\" });\r\n        const result = await model.generateContent([\r\n            prompt,\r\n            {\r\n                fileData: {\r\n                    fileUri: uploadResult.file.uri,\r\n                    mimeType: uploadResult.file.mimeType,\r\n                },\r\n            },\r\n        ]);\r\n\r\n        // Cleanup\r\n        await unlink(tempPath).catch(e => console.error(\"Temp cleanup failed\", e));\r\n        // await fileManager.deleteFile(uploadResult.file.name); // Optional: keep for cache or delete\r\n\r\n        return result.response.text();\r\n\r\n    } catch (error: any) {\r\n        console.error(\"Gemini Error:\", error);\r\n        throw new Error(error.message || \"AI processing failed\");\r\n    }\r\n}\r\n\r\nexport async function listGeminiModels(apiKey: string) {\r\n    if (!apiKey) return [];\r\n\r\n    try {\r\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`);\r\n        if (!response.ok) {\r\n            console.error(\"Failed to list models\", await response.text());\r\n            return [];\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (!data.models) return [];\r\n\r\n        // Filter for models that support content generation and are stable/latest\r\n        return data.models\r\n            .filter((m: any) => m.supportedGenerationMethods?.includes(\"generateContent\"))\r\n            .map((m: any) => ({\r\n                name: m.name.replace('models/', ''),\r\n                displayName: m.displayName\r\n            }));\r\n    } catch (error) {\r\n        console.error(\"List Models Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAyEsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,oDAAA"}},
    {"offset": {"line": 1034, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/components/studio/AIAssistant.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { Sparkles, FileText, Film, Loader2, Key } from 'lucide-react';\r\nimport { processVideoWithGemini, listGeminiModels } from '@/app/actions/gemini';\r\n\r\ninterface AIAssistantProps {\r\n    recordedChunks: Blob[];\r\n}\r\n\r\nexport function AIAssistant({ recordedChunks }: AIAssistantProps) {\r\n    const [apiKey, setApiKey] = useState('');\r\n    const [showKeyInput, setShowKeyInput] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [result, setResult] = useState<string | null>(null);\r\n    const [model, setModel] = useState('gemini-1.5-flash-002');\r\n    const [activeTab, setActiveTab] = useState<'summary' | 'clips'>('summary');\r\n    const [availableModels, setAvailableModels] = useState<{ name: string, displayName: string }[]>([]);\r\n\r\n    useEffect(() => {\r\n        const key = apiKey || process.env.NEXT_PUBLIC_GEMINI_API_KEY;\r\n        if (key) {\r\n            listGeminiModels(key).then(models => {\r\n                if (models.length > 0) {\r\n                    setAvailableModels(models);\r\n                    // Check if current model is in list, if not set to first valid one or keep default if looks like a valid alias\r\n                    // For now, let's stick to our default if it exists, or update if user prefers.\r\n                    // But actually, seeing the list is better.\r\n                }\r\n            });\r\n        }\r\n    }, [apiKey]);\r\n\r\n    const handleAction = async (type: 'summary' | 'clips') => {\r\n        if (!apiKey && !process.env.NEXT_PUBLIC_GEMINI_API_KEY) {\r\n            setShowKeyInput(true);\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setResult(null);\r\n        setActiveTab(type);\r\n\r\n        const key = apiKey || process.env.NEXT_PUBLIC_GEMINI_API_KEY || '';\r\n        const prompt = type === 'summary'\r\n            ? \"Generate a catchy Title, a short abstract/summary for social media, and 5 hashtags for this video.\"\r\n            : \"Analyze this video and identify 3 potential viral highlight clips. Return JSON format with { start: 'MM:SS', end: 'MM:SS', description: 'string' } for each clip.\";\r\n\r\n        try {\r\n            const blob = new Blob(recordedChunks, { type: 'video/webm' });\r\n            const formData = new FormData();\r\n            formData.append('file', blob, 'recording.webm');\r\n\r\n            const text = await processVideoWithGemini(formData, key, model, prompt);\r\n            setResult(text);\r\n        } catch (err: any) {\r\n            setResult(`Error: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card className=\"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-zinc-900 dark:to-zinc-900 border-indigo-100 dark:border-indigo-900/30\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-bold flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600\">\r\n                    <Sparkles className=\"w-5 h-5 text-indigo-500\" />\r\n                    AI Assistant\r\n                </h3>\r\n                <Button variant=\"ghost\" size=\"sm\" onClick={() => setShowKeyInput(!showKeyInput)} className=\"text-xs text-gray-400\">\r\n                    <Key className=\"w-3 h-3 mr-1\" /> {apiKey ? 'Key Set' : 'Set Key'}\r\n                </Button>\r\n            </div>\r\n\r\n            {showKeyInput && (\r\n                <div className=\"mb-4\">\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Enter Gemini API Key\"\r\n                        value={apiKey}\r\n                        onChange={(e) => setApiKey(e.target.value)}\r\n                        className=\"w-full p-2 text-sm rounded border dark:bg-zinc-800 dark:border-white/10\"\r\n                    />\r\n                    <p className=\"text-[10px] text-gray-500 mt-1\">\r\n                        Key is used locally and sent to Google servers. Get one at aistudio.google.com\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"mb-4\">\r\n                <label className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block\">\r\n                    Model {availableModels.length > 0 ? `(${availableModels.length} available)` : ''}\r\n                </label>\r\n                <select\r\n                    value={model}\r\n                    onChange={(e) => setModel(e.target.value)}\r\n                    className=\"w-full p-2 text-sm rounded border bg-white dark:bg-zinc-800 dark:border-white/10\"\r\n                >\r\n                    {/* Default/Fallback Options if API fetch fails or hasn't happened yet */}\r\n                    {availableModels.length === 0 && (\r\n                        <>\r\n                            <option value=\"gemini-1.5-flash-002\">Gemini 1.5 Flash (Fastest - 002)</option>\r\n                            <option value=\"gemini-1.5-pro-002\">Gemini 1.5 Pro (Smartest - 002)</option>\r\n                            <option value=\"gemini-2.0-flash-exp\">Gemini 2.0 Flash Exp (Experimental)</option>\r\n                        </>\r\n                    )}\r\n\r\n                    {/* Dynamic Options */}\r\n                    {availableModels.map((m) => (\r\n                        <option key={m.name} value={m.name}>\r\n                            {m.displayName}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2 mb-4\">\r\n                <Button\r\n                    onClick={() => handleAction('summary')}\r\n                    disabled={loading || recordedChunks.length === 0}\r\n                    className=\"flex-1 bg-white dark:bg-zinc-800 text-indigo-600 shadow-sm border border-indigo-100 dark:border-indigo-900/50 hover:bg-indigo-50\"\r\n                >\r\n                    <FileText className=\"w-4 h-4 mr-2\" /> Show Notes\r\n                </Button>\r\n                <Button\r\n                    onClick={() => handleAction('clips')}\r\n                    disabled={loading || recordedChunks.length === 0}\r\n                    className=\"flex-1 bg-white dark:bg-zinc-800 text-purple-600 shadow-sm border border-purple-100 dark:border-purple-900/50 hover:bg-purple-50\"\r\n                >\r\n                    <Film className=\"w-4 h-4 mr-2\" /> Find Clips\r\n                </Button>\r\n            </div>\r\n\r\n            {loading && (\r\n                <div className=\"py-8 text-center text-gray-500 flex flex-col items-center gap-2 animate-pulse\">\r\n                    <Loader2 className=\"w-6 h-6 animate-spin text-indigo-500\" />\r\n                    <p className=\"text-xs\">Watching video & thinking...</p>\r\n                </div>\r\n            )}\r\n\r\n            {result && !loading && (\r\n                <div className=\"bg-white/50 dark:bg-black/20 p-4 rounded-lg text-sm whitespace-pre-wrap font-mono max-h-60 overflow-y-auto border border-gray-100 dark:border-white/5\">\r\n                    {result}\r\n                </div>\r\n            )}\r\n        </Card>\r\n    );\r\n}\r\n"],"names":["useState","useEffect","Button","Card","Sparkles","FileText","Film","Loader2","Key","processVideoWithGemini","listGeminiModels","AIAssistantProps","recordedChunks","Blob","AIAssistant","apiKey","setApiKey","showKeyInput","setShowKeyInput","loading","setLoading","result","setResult","model","setModel","activeTab","setActiveTab","availableModels","setAvailableModels","name","displayName","key","process","env","NEXT_PUBLIC_GEMINI_API_KEY","then","models","length","handleAction","type","prompt","blob","formData","FormData","append","text","err","message","e","target","value","map","m"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1350, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/components/studio/Editor.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useFFmpeg } from '@/hooks/useFFmpeg';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { Play, Pause, Scissors, Download, Loader2 } from 'lucide-react';\r\nimport { AIAssistant } from './AIAssistant';\r\n\r\ninterface EditorProps {\r\n    recordedChunks: Blob[];\r\n}\r\n\r\nexport function Editor({ recordedChunks }: EditorProps) {\r\n    const { ffmpeg, loaded, isLoading } = useFFmpeg();\r\n    const [videoUrl, setVideoUrl] = useState<string | null>(null);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (recordedChunks.length > 0) {\r\n            const blob = new Blob(recordedChunks, { type: 'video/webm' });\r\n            const url = URL.createObjectURL(blob);\r\n            setVideoUrl(url);\r\n            return () => URL.revokeObjectURL(url);\r\n        }\r\n    }, [recordedChunks]);\r\n\r\n    const handlePlayPause = () => {\r\n        if (videoRef.current) {\r\n            if (isPlaying) {\r\n                videoRef.current.pause();\r\n            } else {\r\n                videoRef.current.play();\r\n            }\r\n            setIsPlaying(!isPlaying);\r\n        }\r\n    };\r\n\r\n    const processVideo = async () => {\r\n        if (!loaded) return;\r\n\r\n        try {\r\n            const videoBlob = new Blob(recordedChunks, { type: 'video/webm' });\r\n            const videoData = await videoBlob.arrayBuffer();\r\n\r\n            // Write file to FFmpeg's virtual file system\r\n            await ffmpeg.writeFile('input.webm', new Uint8Array(videoData));\r\n\r\n            // Transcode to MP4 \r\n            // -c:v copy: Copy video stream (likely VP9) to MP4 container.\r\n            // -c:a aac: Re-encode audio to AAC for compatibility.\r\n            // -strict experimental: Often needed for aac in some ffmpeg versions (though usually fine in recent ones).\r\n            await ffmpeg.exec(['-i', 'input.webm', '-c:v', 'copy', '-c:a', 'aac', 'output.mp4']);\r\n\r\n            // Read the result\r\n            const data = await ffmpeg.readFile('output.mp4');\r\n\r\n            // Download\r\n            const url = URL.createObjectURL(new Blob([data as any], { type: 'video/mp4' }));\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = 'record-final.mp4';\r\n            a.click();\r\n\r\n            // Cleanup\r\n            await ffmpeg.deleteFile('input.webm');\r\n            await ffmpeg.deleteFile('output.mp4');\r\n            URL.revokeObjectURL(url);\r\n\r\n        } catch (error) {\r\n            console.error(\"Processing failed\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card className=\"w-full flex flex-col gap-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-bold\">Studio Editor</h3>\r\n                {isLoading && <span className=\"text-sm text-yellow-500 flex gap-2 items-center\"><Loader2 className=\"animate-spin w-4 h-4\" /> Loading Engine...</span>}\r\n                {loaded && <span className=\"text-sm text-green-500\">Engine Ready</span>}\r\n            </div>\r\n\r\n            <div className=\"aspect-video bg-black rounded-xl overflow-hidden relative group\">\r\n                {videoUrl ? (\r\n                    <video\r\n                        ref={videoRef}\r\n                        src={videoUrl}\r\n                        className=\"w-full h-full object-contain\"\r\n                        onEnded={() => setIsPlaying(false)}\r\n                    />\r\n                ) : (\r\n                    <div className=\"flex items-center justify-center h-full text-gray-500\">\r\n                        No Recording Yet\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Timeline / Controls */}\r\n            <div className=\"flex items-center gap-4\">\r\n                <Button onClick={handlePlayPause} disabled={!videoUrl} size=\"sm\" variant=\"secondary\">\r\n                    {isPlaying ? <Pause className=\"w-4 h-4\" /> : <Play className=\"w-4 h-4\" />}\r\n                </Button>\r\n                <div className=\"flex-1 h-12 bg-gray-100 dark:bg-zinc-800 rounded-lg relative overflow-hidden\">\r\n                    {/* Mock Timeline Track */}\r\n                    <div className=\"absolute inset-y-2 left-2 right-2 bg-indigo-500/20 rounded\"></div>\r\n                    {/* Playhead */}\r\n                    <div className=\"absolute top-0 bottom-0 left-[10%] w-0.5 bg-red-500\"></div>\r\n                </div>\r\n                <Button onClick={processVideo} disabled={!loaded || !videoUrl} size=\"sm\" variant=\"secondary\">\r\n                    <Scissors className=\"w-4 h-4 mr-2\" /> Trim\r\n                </Button>\r\n                <Button disabled={!videoUrl} size=\"sm\" variant=\"primary\">\r\n                    <Download className=\"w-4 h-4 mr-2\" /> Export\r\n                </Button>\r\n            </div>\r\n            {/* AI Assistant */}\r\n            <div className=\"pt-4 border-t border-gray-100 dark:border-white/5\">\r\n                <AIAssistant recordedChunks={recordedChunks} />\r\n            </div>\r\n        </Card>\r\n    );\r\n}\r\n"],"names":["c","_c","useState","useEffect","useRef","useFFmpeg","Button","Card","Play","Pause","Scissors","Download","Loader2","AIAssistant","EditorProps","recordedChunks","Blob","Editor","t0","$","$i","Symbol","for","ffmpeg","loaded","isLoading","videoUrl","setVideoUrl","isPlaying","setIsPlaying","videoRef","t1","t2","Editor[useEffect()]","length","blob","type","url","URL","createObjectURL","revokeObjectURL","t3","Editor[handlePlayPause]","current","pause","play","handlePlayPause","t4","Editor[processVideo]","videoBlob","videoData","arrayBuffer","writeFile","Uint8Array","exec","data","readFile","url_0","a","document","createElement","href","download","click","deleteFile","t5","error","console","processVideo","t6","t7","t8","t9","Editor[<video>.onEnded]","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1815, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/hooks/useRecorder.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useCallback } from 'react';\r\n\r\nexport function useRecorder() {\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [recordedChunks, setRecordedChunks] = useState<Blob[]>([]);\r\n    const mediaRecorderRef = useRef<MediaRecorder | null>(null);\r\n\r\n    const startRecording = useCallback((stream: MediaStream) => {\r\n        if (!stream) return;\r\n\r\n        setRecordedChunks([]);\r\n        setRecordedChunks([]);\r\n\r\n        let mimeType = 'video/webm; codecs=vp9,opus';\r\n        if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n            mimeType = 'video/webm; codecs=vp9'; // Fallback\r\n            if (!MediaRecorder.isTypeSupported(mimeType)) {\r\n                mimeType = 'video/webm'; // Generic fallback\r\n            }\r\n        }\r\n\r\n        const mediaRecorder = new MediaRecorder(stream, {\r\n            mimeType\r\n        });\r\n\r\n        mediaRecorderRef.current = mediaRecorder;\r\n\r\n        mediaRecorder.ondataavailable = (event) => {\r\n            if (event.data.size > 0) {\r\n                setRecordedChunks((prev) => [...prev, event.data]);\r\n            }\r\n        };\r\n\r\n        mediaRecorder.start(1000); // Collect 1s chunks\r\n        setIsRecording(true);\r\n    }, []);\r\n\r\n    const stopRecording = useCallback(() => {\r\n        if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'recording') {\r\n            mediaRecorderRef.current.stop();\r\n            setIsRecording(false);\r\n        }\r\n    }, []);\r\n\r\n    const getBlob = useCallback(() => {\r\n        return new Blob(recordedChunks, { type: 'video/webm' });\r\n    }, [recordedChunks]);\r\n\r\n    return {\r\n        isRecording,\r\n        startRecording,\r\n        stopRecording,\r\n        recordedChunks,\r\n        getBlob\r\n    };\r\n}\r\n"],"names":["c","_c","useState","useRef","useCallback","useRecorder","$","$i","Symbol","for","isRecording","setIsRecording","t0","recordedChunks","setRecordedChunks","mediaRecorderRef","t1","stream","mimeType","MediaRecorder","isTypeSupported","mediaRecorder","current","ondataavailable","event","data","size","prev","start","startRecording","t2","useRecorder[stopRecording]","state","stop","stopRecording","t3","useRecorder[getBlob]","Blob","type","getBlob","t4"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1937, "column": 0}, "map": {"version":3,"sources":["C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/app/studio/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useWebRTC } from '@/hooks/useWebRTC';\r\nimport { VideoGrid } from '@/components/studio/VideoGrid';\r\nimport { Editor } from '@/components/studio/Editor';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { useRecorder } from '@/hooks/useRecorder';\r\nimport { Mic, Video, MonitorUp, PhoneOff, Circle, MicOff, VideoOff } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function StudioPage() {\r\n    const router = useRouter();\r\n    // Hardcoded room for demo 'main-studio'\r\n    // In real app, this would come from params\r\n    const {\r\n        localStream,\r\n        peers,\r\n        socket,\r\n        error,\r\n        toggleAudio,\r\n        toggleVideo,\r\n        isAudioEnabled,\r\n        isVideoEnabled,\r\n        shareScreen,\r\n        stopScreenShare,\r\n        isScreenSharing\r\n    } = useWebRTC('main-studio');\r\n    const { isRecording, startRecording, stopRecording, recordedChunks } = useRecorder();\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[50vh] text-center p-8 space-y-4\">\r\n                <div className=\"p-4 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full\">\r\n                    <Video className=\"w-12 h-12\" />\r\n                </div>\r\n                <h2 className=\"text-2xl font-bold\">Camera/Microphone Access Denied</h2>\r\n                <p className=\"text-gray-600 dark:text-gray-400 max-w-md\">\r\n                    We couldn't access your camera or microphone. This is usually because:\r\n                </p>\r\n                <ul className=\"text-left bg-gray-50 dark:bg-zinc-900 p-6 rounded-xl space-y-2 border border-gray-200 dark:border-white/10\">\r\n                    <li className=\"flex items-center gap-2\">1. You denied permission in the browser popup.</li>\r\n                    <li className=\"flex items-center gap-2\">2. Your operating system/settings have blocked access.</li>\r\n                    <li className=\"flex items-center gap-2\">3. Another application is using the camera.</li>\r\n                </ul>\r\n                <div className=\"text-xs text-red-500 font-mono bg-red-50 dark:bg-red-900/10 p-2 rounded\">\r\n                    Error Details: {error.name}: {error.message}\r\n                </div>\r\n                <div className=\"flex gap-4 pt-4\">\r\n                    <Button onClick={() => window.location.reload()}>Try Again</Button>\r\n                    <Button variant=\"ghost\" onClick={() => router.push('/')}>Go Back</Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleRecordToggle = () => {\r\n        if (isRecording) {\r\n            stopRecording();\r\n        } else {\r\n            if (localStream) startRecording(localStream);\r\n        }\r\n    };\r\n\r\n    const handleLeave = () => {\r\n        // Cleanup handled by hook unmount, just navigate away\r\n        router.push('/');\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-[calc(100vh-8rem)] gap-4\">\r\n            {/* Header / Toolbar (optional specific to studio) */}\r\n            <div className=\"flex items-center justify-between px-2\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-500\">\r\n                        Live Studio\r\n                    </h1>\r\n                    <p className=\"text-sm text-gray-500\">Room: main-studio</p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"px-3 py-1 rounded-full bg-red-500/10 text-red-500 text-xs font-semibold animate-pulse\">\r\n                         Live\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Grid */}\r\n            <div className=\"flex-1 bg-gray-100 dark:bg-zinc-900/50 rounded-3xl border border-white/20 overflow-hidden relative\">\r\n                <VideoGrid peers={peers} />\r\n            </div>\r\n\r\n            {/* Bottom Controls */}\r\n            <div className=\"flex items-center justify-center gap-4 py-4\">\r\n                {/* ... existing controls ... */}\r\n                <Button\r\n                    variant={isAudioEnabled ? \"secondary\" : \"danger\"}\r\n                    size=\"lg\"\r\n                    className=\"rounded-full shadow-md transition-all\"\r\n                    onClick={toggleAudio}\r\n                >\r\n                    {isAudioEnabled ? <Mic className=\"w-5 h-5\" /> : <MicOff className=\"w-5 h-5\" />}\r\n                </Button>\r\n                <Button\r\n                    variant={isVideoEnabled ? \"secondary\" : \"danger\"}\r\n                    size=\"lg\"\r\n                    className=\"rounded-full shadow-md transition-all\"\r\n                    onClick={toggleVideo}\r\n                >\r\n                    {isVideoEnabled ? <Video className=\"w-5 h-5\" /> : <VideoOff className=\"w-5 h-5\" />}\r\n                </Button>\r\n                <Button\r\n                    variant={isScreenSharing ? \"danger\" : \"primary\"}\r\n                    size=\"lg\"\r\n                    className=\"rounded-full px-8 shadow-xl shadow-indigo-500/20\"\r\n                    onClick={isScreenSharing ? stopScreenShare : shareScreen}\r\n                >\r\n                    <MonitorUp className={`w-5 h-5 mr-2 ${isScreenSharing ? 'animate-pulse' : ''}`} />\r\n                    {isScreenSharing ? 'Stop Sharing' : 'Share Screen'}\r\n                </Button>\r\n                <Button variant={isRecording ? 'danger' : 'secondary'} size=\"lg\" className=\"rounded-full shadow-md transition-all\" onClick={handleRecordToggle}>\r\n                    <Circle className={`w-5 h-5 ${isRecording ? 'fill-current animate-pulse' : ''}`} />\r\n                </Button>\r\n                <Button variant=\"danger\" size=\"lg\" className=\"rounded-full shadow-md\" onClick={handleLeave}>\r\n                    <PhoneOff className=\"w-5 h-5 md:mr-2\" /> <span className=\"hidden md:inline\">Leave</span>\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Editor Section */}\r\n            {!isRecording && recordedChunks.length > 0 && <Editor recordedChunks={recordedChunks} />}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useWebRTC","VideoGrid","Editor","Button","useRecorder","Mic","Video","MonitorUp","PhoneOff","Circle","MicOff","VideoOff","useRouter","StudioPage","$","$i","Symbol","for","router","localStream","peers","error","toggleAudio","toggleVideo","isAudioEnabled","isVideoEnabled","shareScreen","stopScreenShare","isScreenSharing","isRecording","startRecording","stopRecording","recordedChunks","t0","t1","t2","t3","t4","message","name","t5","_StudioPageButtonOnClick","t6","StudioPage[<Button>.onClick]","push","t7","StudioPage[handleRecordToggle]","handleRecordToggle","StudioPage[handleLeave]","handleLeave","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","length","t26","window","location","reload"],"mappings":"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","ignoreList":[]}}]
}