{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/src/app/actions/gemini.ts"],"sourcesContent":["'use server';\r\n\r\nimport { GoogleGenerativeAI } from '@google/generative-ai';\r\nimport { GoogleAIFileManager } from '@google/generative-ai/server';\r\nimport { writeFile, unlink } from 'fs/promises';\r\nimport { join } from 'path';\r\nimport { tmpdir } from 'os';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nasync function saveToTemp(buffer: Buffer): Promise<string> {\r\n    const filename = `upload-${uuidv4()}.webm`;\r\n    const filepath = join(tmpdir(), filename);\r\n    await writeFile(filepath, buffer);\r\n    return filepath;\r\n}\r\n\r\nexport async function processVideoWithGemini(formData: FormData, apiKey: string, modelName: string, prompt: string) {\r\n    if (!apiKey) throw new Error(\"API Key is required\");\r\n\r\n    const file = formData.get('file') as File;\r\n    if (!file) throw new Error(\"No file uploaded\");\r\n\r\n    try {\r\n        const fileManager = new GoogleAIFileManager(apiKey);\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n\r\n        const bytes = await file.arrayBuffer();\r\n        const buffer = Buffer.from(bytes);\r\n        const tempPath = await saveToTemp(buffer);\r\n\r\n        const uploadResult = await fileManager.uploadFile(tempPath, {\r\n            mimeType: file.type || 'video/webm',\r\n            displayName: \"Studio Recording\",\r\n        });\r\n\r\n        let fileState = await fileManager.getFile(uploadResult.file.name);\r\n        while (fileState.state === 'PROCESSING') {\r\n            await new Promise(resolve => setTimeout(resolve, 2000));\r\n            fileState = await fileManager.getFile(uploadResult.file.name);\r\n        }\r\n\r\n        if (fileState.state === 'FAILED') {\r\n            throw new Error(\"Video processing failed.\");\r\n        }\r\n\r\n        const model = genAI.getGenerativeModel({ model: modelName || \"gemini-1.5-flash-latest\" });\r\n        const result = await model.generateContent([\r\n            prompt,\r\n            {\r\n                fileData: {\r\n                    fileUri: uploadResult.file.uri,\r\n                    mimeType: uploadResult.file.mimeType,\r\n                },\r\n            },\r\n        ]);\r\n\r\n        await unlink(tempPath).catch(e => console.error(\"Temp cleanup failed\", e));\r\n\r\n        return result.response.text();\r\n\r\n    } catch (error: any) {\r\n        console.error(\"Gemini Error:\", error);\r\n        throw new Error(error.message || \"AI processing failed\");\r\n    }\r\n}\r\n\r\nexport async function listGeminiModels(apiKey: string) {\r\n    if (!apiKey) return [];\r\n\r\n    try {\r\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`);\r\n        if (!response.ok) {\r\n            console.error(\"Failed to list models\", await response.text());\r\n            return [];\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (!data.models) return [];\r\n\r\n        return data.models\r\n            .filter((m: any) => m.supportedGenerationMethods?.includes(\"generateContent\"))\r\n            .map((m: any) => ({\r\n                name: m.name.replace('models/', ''),\r\n                displayName: m.displayName\r\n            }));\r\n    } catch (error) {\r\n        console.error(\"List Models Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,eAAe,WAAW,MAAc;IACpC,MAAM,WAAW,CAAC,OAAO,EAAE,IAAA,iLAAM,IAAG,KAAK,CAAC;IAC1C,MAAM,WAAW,IAAA,yGAAI,EAAC,IAAA,uGAAM,KAAI;IAChC,MAAM,IAAA,kIAAS,EAAC,UAAU;IAC1B,OAAO;AACX;AAEO,eAAe,uBAAuB,QAAkB,EAAE,MAAc,EAAE,SAAiB,EAAE,MAAc;IAC9G,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,IAAI;QACA,MAAM,cAAc,IAAI,+LAAmB,CAAC;QAC5C,MAAM,QAAQ,IAAI,oLAAkB,CAAC;QAErC,MAAM,QAAQ,MAAM,KAAK,WAAW;QACpC,MAAM,SAAS,OAAO,IAAI,CAAC;QAC3B,MAAM,WAAW,MAAM,WAAW;QAElC,MAAM,eAAe,MAAM,YAAY,UAAU,CAAC,UAAU;YACxD,UAAU,KAAK,IAAI,IAAI;YACvB,aAAa;QACjB;QAEA,IAAI,YAAY,MAAM,YAAY,OAAO,CAAC,aAAa,IAAI,CAAC,IAAI;QAChE,MAAO,UAAU,KAAK,KAAK,aAAc;YACrC,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YACjD,YAAY,MAAM,YAAY,OAAO,CAAC,aAAa,IAAI,CAAC,IAAI;QAChE;QAEA,IAAI,UAAU,KAAK,KAAK,UAAU;YAC9B,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,QAAQ,MAAM,kBAAkB,CAAC;YAAE,OAAO,aAAa;QAA0B;QACvF,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;YACvC;YACA;gBACI,UAAU;oBACN,SAAS,aAAa,IAAI,CAAC,GAAG;oBAC9B,UAAU,aAAa,IAAI,CAAC,QAAQ;gBACxC;YACJ;SACH;QAED,MAAM,IAAA,+HAAM,EAAC,UAAU,KAAK,CAAC,CAAA,IAAK,QAAQ,KAAK,CAAC,uBAAuB;QAEvE,OAAO,OAAO,QAAQ,CAAC,IAAI;IAE/B,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACrC;AACJ;AAEO,eAAe,iBAAiB,MAAc;IACjD,IAAI,CAAC,QAAQ,OAAO,EAAE;IAEtB,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,CAAC,4DAA4D,EAAE,QAAQ;QACpG,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,QAAQ,KAAK,CAAC,yBAAyB,MAAM,SAAS,IAAI;YAC1D,OAAO,EAAE;QACb;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO,EAAE;QAE3B,OAAO,KAAK,MAAM,CACb,MAAM,CAAC,CAAC,IAAW,EAAE,0BAA0B,EAAE,SAAS,oBAC1D,GAAG,CAAC,CAAC,IAAW,CAAC;gBACd,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW;gBAChC,aAAa,EAAE,WAAW;YAC9B,CAAC;IACT,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,EAAE;IACb;AACJ;;;IAzEsB;IAkDA;;AAlDA,+OAAA;AAkDA,+OAAA"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/.next-internal/server/app/studio/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {processVideoWithGemini as '780bb8cd47a9182c7f58c797ab2b2146c81b3baeee'} from 'ACTIONS_MODULE0'\nexport {listGeminiModels as '40da9516a8b8e8f65d3543c5b611608364e0bb0e47'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@google/generative-ai/dist/index.mjs","sources":[],"sourcesContent":[],"names":[],"mappings":""}},
    {"offset": {"line": 1690, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@google/generative-ai/dist/server/index.mjs","sources":[],"sourcesContent":[],"names":[],"mappings":""}},
    {"offset": {"line": 2467, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/uuid/dist-node/native.js"],"sourcesContent":["import { randomUUID } from 'node:crypto';\nexport default { randomUUID };\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,YAAA,mIAAU;AAAC","ignoreList":[0]}},
    {"offset": {"line": 2480, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/uuid/dist-node/rng.js"],"sourcesContent":["import { randomFillSync } from 'node:crypto';\nconst rnds8Pool = new Uint8Array(256);\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n    if (poolPtr > rnds8Pool.length - 16) {\n        randomFillSync(rnds8Pool);\n        poolPtr = 0;\n    }\n    return rnds8Pool.slice(poolPtr, (poolPtr += 16));\n}\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,YAAY,IAAI,WAAW;AACjC,IAAI,UAAU,UAAU,MAAM;AACf,SAAS;IACpB,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI;QACjC,IAAA,uIAAc,EAAC;QACf,UAAU;IACd;IACA,OAAO,UAAU,KAAK,CAAC,SAAU,WAAW;AAChD","ignoreList":[0]}},
    {"offset": {"line": 2499, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/uuid/dist-node/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;\n"],"names":[],"mappings":";;;;uCAAe","ignoreList":[0]}},
    {"offset": {"line": 2508, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/uuid/dist-node/validate.js"],"sourcesContent":["import REGEX from './regex.js';\nfunction validate(uuid) {\n    return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;\n"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS,SAAS,IAAI;IAClB,OAAO,OAAO,SAAS,YAAY,wJAAK,CAAC,IAAI,CAAC;AAClD;uCACe","ignoreList":[0]}},
    {"offset": {"line": 2522, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/uuid/dist-node/stringify.js"],"sourcesContent":["import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n"],"names":[],"mappings":";;;;;;AAAA;;AACA,MAAM,YAAY,EAAE;AACpB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC1B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAClD;AACO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC3C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC9B,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,MACA,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,MACA,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,MACA,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAC1B,MACA,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAC3B,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAC3B,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAC3B,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAC3B,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAC3B,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,WAAW;AAChD;AACA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAC9B,MAAM,OAAO,gBAAgB,KAAK;IAClC,IAAI,CAAC,IAAA,2JAAQ,EAAC,OAAO;QACjB,MAAM,UAAU;IACpB;IACA,OAAO;AACX;uCACe","ignoreList":[0]}},
    {"offset": {"line": 2549, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/uuid/dist-node/v4.js"],"sourcesContent":["import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction _v4(options, buf, offset) {\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    return _v4(options, buf, offset);\n}\nexport default v4;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AACA,SAAS,IAAI,OAAO,EAAE,GAAG,EAAE,MAAM;IAC7B,UAAU,WAAW,CAAC;IACtB,MAAM,OAAO,QAAQ,MAAM,IAAI,QAAQ,GAAG,QAAQ,IAAA,sJAAG;IACrD,IAAI,KAAK,MAAM,GAAG,IAAI;QAClB,MAAM,IAAI,MAAM;IACpB;IACA,IAAI,CAAC,EAAE,GAAG,AAAC,IAAI,CAAC,EAAE,GAAG,OAAQ;IAC7B,IAAI,CAAC,EAAE,GAAG,AAAC,IAAI,CAAC,EAAE,GAAG,OAAQ;IAC7B,IAAI,KAAK;QACL,SAAS,UAAU;QACnB,IAAI,SAAS,KAAK,SAAS,KAAK,IAAI,MAAM,EAAE;YACxC,MAAM,IAAI,WAAW,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE,SAAS,GAAG,wBAAwB,CAAC;QAC3F;QACA,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAG;YACzB,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,EAAE;QAC7B;QACA,OAAO;IACX;IACA,OAAO,IAAA,oKAAe,EAAC;AAC3B;AACA,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC5B,IAAI,yJAAM,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,SAAS;QACvC,OAAO,yJAAM,CAAC,UAAU;IAC5B;IACA,OAAO,IAAI,SAAS,KAAK;AAC7B;uCACe","ignoreList":[0]}},
    {"offset": {"line": 2599, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/spank/OneDrive/Desktop/PoP/frontend/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}